"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express = require('express');
const router = express.Router();
const auth_1 = require("../controllers/auth");
const upload_1 = require("../utils/upload");
const auth_2 = require("../controllers/auth");
const post_1 = require("../controllers/post");
const follow_1 = require("../controllers/follow");
const reaction_1 = require("../controllers/reaction");
const profile_1 = require("../controllers/profile");
const upload_2 = require("../controllers/upload");
router.post('/auth/register', auth_2.register);
router.post('/auth/send-otp', auth_1.sendOTP);
router.post('/auth/verify-otp', auth_1.verifyOTP);
router.post('/auth/login', auth_1.login);
router.get('/auth/me', auth_1.me);
router.get('/profiles', profile_1.getProfiles);
router.get('/profiles/:userId', profile_1.getProfile);
router.post('/uploads/avatar', upload_1.upload.single('avatar'), upload_2.uploadAvatar);
router.post('/uploads/single', upload_1.upload.single('file'), upload_2.uploadFile);
router.post('/uploads/multiple', upload_1.upload.array('files'), upload_2.uploadFiles);
router.get('/posts', post_1.getPosts);
router.get('/posts/:postId', post_1.getPost);
router.post('/posts', post_1.createPost);
router.put('/posts/:postId', post_1.updatePost);
router.delete('/posts/:postId', post_1.deletePost);
router.post('/follow', follow_1.follow);
router.delete('/unfollow', follow_1.unfollow);
router.get('/is-following', follow_1.isFollowing);
router.get('/followers/:userId', follow_1.getFollowers);
router.get('/following/:userId', follow_1.getFollowing);
router.post('/reactions', reaction_1.createReaction);
router.delete('/reactions', reaction_1.deleteReaction);
router.get('/reactions/likes/:postId', reaction_1.getLikes);
router.get('/reactions/ratings/:postId', reaction_1.getAverageRating);
exports.default = router;
